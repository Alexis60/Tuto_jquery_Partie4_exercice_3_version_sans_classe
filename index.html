<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <script src="bower_components/jquery/dist/jquery.min.js" type="text/javascript"></script>
        <script src="taxes.js" type="text/javascript"></script>
        <title>Jquery_partie4_exo_3</title>
    </head>
    <body>
        <form>
            <label for="nom">Nom : </label><input type="text" id="nom" name="nom">
            <label for="prenom">Prénom : </label><input type="text" id="prenom" name="prenom">
            <label for="email">Adresse mail : </label><input type="text" id="email" name="email">
            <label for="telephone">Téléphone : </label><input type="text" id="telephone" name="telephone">
            <a href="#" class="btn btn-info" id="validation">Valider</a>
        </form>
        <script>
            // vérification que mon mail est bel est bien un mail
            function MonEmailestUnEmail(email) {
                var pattern = new RegExp(/^[a-z0-9._-]+@[a-z0-9.-]+\.[a-z]{2,4}$/i);
                var bonmail = pattern.test(email);
                return bonmail;
            }
            

            // vérification que mon numéro de téléphone est bel est bien valable en France
            function MonTelestValable(telephone) {
                var pattern = new RegExp(/^0[1-9]{1}[0-9]{8}$/);
                var bonnum = pattern.test(telephone);
                return bonnum;
            }
            
            
            // vérification que mon nom ne comporte bien que des lettres ou des tirets
            function MonNomestValable(nom) {
                var pattern = new RegExp(/^[a-z -]+$/i);
                var bonnom = pattern.test(nom);
                return bonnom;
            }
            
            // vérification que mon prénom ne comporte bien que des lettres ou des tirets
            function MonPrenomestValable(prenom) {
                var pattern = new RegExp(/^[a-z -]+$/i);
                var bonprenom = pattern.test(prenom);
                return bonprenom;
            }
            


            // récupération des valeurs renseignées dans les champs du form
            $(document).ready(function () {
                $('#validation').click(function () {
                    var nom = $("#nom").val();
                    var prenom = $("#prenom").val();
                    var telephone = $("#telephone").val();
                    var email = $("#email").val();

                    var bonmail = MonEmailestUnEmail(email);
                    if (bonmail == false) {
                        alert("Votre adresse mail n\'est pas valide !!!");
                    }



                    var bontel = MonTelestValable(telephone);
                    if (bontel == false) {
                        alert("Votre numéro de téléphone n\'est pas valide !!!");
                    }
                    
                    var bonnom = MonNomestValable(nom);
                    if (bonnom == false) {
                        alert("Il y a un probléme avec votre nom !!!");
                    }
                    
                    var bonprenom = MonPrenomestValable(prenom);
                    if (bonprenom == false) {
                        alert("Il y a un probléme avec votre prenom !!!");
                    }

                });
            });
        </script>
    </body>
</html>